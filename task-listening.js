!function(e){var t={};function s(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=t,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},s.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=1)}([,function(e,t,s){"use strict";s.r(t);const r=["bird","helicopter","grass","glass","to think","semicolon","wardrobe","happiness","city","friendship","business"];s.d(t,"ListeningTask",function(){return n});class n{constructor(){this.words=r,this.wordIndex=0,this.value=20,this.form=null,this.answerWrapper=null,this.init()}init(){fetch("task-listening.html").then(e=>e.text()).then(e=>{document.getElementById("taskWrapper").innerHTML=`${e}`,this.form=document.querySelector("#taskForm"),this.answerWrapper=this.form.elements.answerInput,this.speak(),this.answerWrapper.focus(),this.form.addEventListener("keypress",this),this.form.addEventListener("click",this)}).catch()}handleEvent(e){switch(e.type){case"click":return this.onClick(e);case"keypress":return this.onKeypress(e)}}onClick(e){e.target===document.getElementById("repeat")&&this.speak("repeat"),this.answerWrapper.focus()}onKeypress(e){e.keyCode>=97&&e.keyCode<=122||e.preventDefault(),13===e.keyCode&&(e.preventDefault(),this.answerWrapper.disabled=!0,this.words[this.wordIndex]===this.answerWrapper.value.trim().toLowerCase()?this.decorate("true"):(this.decorate(),this.value=0),setTimeout(()=>{let e=this.value,t=new CustomEvent("task-finished",{bubbles:!0,detail:e});this.form.dispatchEvent(t),this.destroy()},2e3))}decorate(e){e?this.answerWrapper.classList.add("correct"):this.answerWrapper.classList.add("wrong")}speak(e){"repeat"!==e&&(this.wordIndex=n.getRandomInteger(0,this.words.length));let t=new SpeechSynthesisUtterance(`${this.words[this.wordIndex]}`);t.lang="en-GB",window.speechSynthesis.speak(t)}static getRandomInteger(e,t){return Math.floor(Math.random()*(t-e))+e}destroy(){this.form.removeEventListener("keypress",this),this.form.removeEventListener("click",this),this.form.remove()}}}]);